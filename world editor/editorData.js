        // Configuration et constantes
        const TILE_SIZE = 16;
        const DEFAULT_WIDTH = 20;
        const DEFAULT_HEIGHT = 15;
        const COLORS = {
            0: '#9BBD0F',
            1: '#8BAC0F',
            2: '#306230',
            3: '#0F380F'
        };
        
        // DÃ©finitions des tuiles (mÃªme que dans le jeu)
        const TILES = {
            0: { name: "Sol", pattern: [
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
            ]},
            1: { name: "Mur", pattern: [
                [3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],
                [3,2,2,2,2,2,2,3,2,2,2,2,2,2,2,3],
                [3,2,1,1,1,1,2,3,2,1,1,1,1,1,2,3],
                [3,2,1,1,1,1,2,3,2,1,1,1,1,1,2,3],
                [3,2,2,2,2,2,2,3,2,2,2,2,2,2,2,3],
                [3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],
                [3,2,2,2,2,2,2,2,3,2,2,2,2,2,2,3],
                [3,2,1,1,1,1,1,2,3,2,1,1,1,1,2,3],
                [3,2,1,1,1,1,1,2,3,2,1,1,1,1,2,3],
                [3,2,2,2,2,2,2,2,3,2,2,2,2,2,2,3],
                [3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],
                [3,2,2,2,2,2,2,3,2,2,2,2,2,2,2,3],
                [3,2,1,1,1,1,2,3,2,1,1,1,1,1,2,3],
                [3,2,1,1,1,1,2,3,2,1,1,1,1,1,2,3],
                [3,2,2,2,2,2,2,3,2,2,2,2,2,2,2,3],
                [3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]
            ]},
            2: { name: "Herbe", pattern: [
                [0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0],
                [0,0,1,2,1,0,0,0,0,1,2,1,0,0,0,0],
                [0,1,2,2,2,1,0,0,1,2,2,2,1,0,0,0],
                [0,1,2,3,2,1,0,0,1,2,3,2,1,0,0,0],
                [0,0,1,2,1,0,0,0,0,1,2,1,0,0,0,0],
                [0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,1,2,1,0],
                [0,0,0,0,0,1,0,0,0,0,0,1,2,2,2,1],
                [0,0,0,0,1,2,1,0,0,0,0,1,2,3,2,1],
                [0,0,0,1,2,2,2,1,0,0,0,0,1,2,1,0],
                [0,0,0,1,2,3,2,1,0,0,0,0,0,1,0,0],
                [0,0,0,0,1,2,1,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
            ]},
            3: { name: "Rocher", pattern: [
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,2,2,2,2,2,2,2,0,0,0,0,0],
                [0,0,0,2,3,3,3,3,3,3,3,2,0,0,0,0],
                [0,0,2,3,3,2,2,2,2,2,3,3,2,0,0,0],
                [0,2,3,3,2,2,1,1,1,2,2,3,3,2,0,0],
                [0,2,3,2,2,1,1,1,1,1,2,2,3,2,0,0],
                [0,2,3,2,1,1,1,0,1,1,1,2,3,2,0,0],
                [0,2,3,2,1,1,0,0,0,1,1,2,3,2,0,0],
                [0,2,3,2,1,1,1,0,1,1,1,2,3,2,0,0],
                [0,2,3,2,2,1,1,1,1,1,2,2,3,2,0,0],
                [0,2,3,3,2,2,1,1,1,2,2,3,3,2,0,0],
                [0,0,2,3,3,2,2,2,2,2,3,3,2,0,0,0],
                [0,0,0,2,3,3,3,3,3,3,3,2,0,0,0,0],
                [0,0,0,0,2,2,2,2,2,2,2,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
            ]},
            4: { name: "Porte", pattern: [
                [3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],
                [3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3],
                [3,2,0,0,0,0,0,0,0,0,0,0,0,0,2,3],
                [3,2,0,3,3,3,3,3,3,3,3,3,3,0,2,3],
                [3,2,0,3,2,2,2,2,2,2,2,2,3,0,2,3],
                [3,2,0,3,2,1,1,1,1,1,1,2,3,0,2,3],
                [3,2,0,3,2,1,0,0,0,0,1,2,3,0,2,3],
                [3,2,0,3,2,1,0,0,0,0,1,2,3,0,2,3],
                [3,2,0,3,2,1,0,0,0,0,1,2,3,0,2,3],
                [3,2,0,3,2,1,0,0,0,0,1,2,3,0,2,3],
                [3,2,0,3,2,1,1,1,1,1,1,2,3,0,2,3],
                [3,2,0,3,2,2,2,3,2,2,2,2,3,0,2,3],
                [3,2,0,3,3,3,3,2,3,3,3,3,3,0,2,3],
                [3,2,0,0,0,0,0,0,0,0,0,0,0,0,2,3],
                [3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3],
                [3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]
            ]},
            5: { name: "Coffre fermÃ©", pattern: [
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,3,3,3,3,3,3,3,3,3,3,0,0,0],
                [0,0,3,2,2,2,2,2,2,2,2,2,2,3,0,0],
                [0,3,2,2,1,1,1,1,1,1,1,1,2,2,3,0],
                [3,2,2,1,1,1,1,1,1,1,1,1,1,2,2,3],
                [3,2,3,3,3,3,3,3,3,3,3,3,3,3,2,3],
                [3,2,3,2,2,2,2,2,2,2,2,2,2,3,2,3],
                [3,2,3,2,2,2,3,3,3,3,2,2,2,3,2,3],
                [3,2,3,2,2,2,3,2,2,3,2,2,2,3,2,3],
                [3,2,3,2,2,2,3,3,3,3,2,2,2,3,2,3],
                [3,2,3,2,2,2,2,2,2,2,2,2,2,3,2,3],
                [3,2,3,3,3,3,3,3,3,3,3,3,3,3,2,3],
                [0,3,2,2,2,2,2,2,2,2,2,2,2,2,3,0],
                [0,0,3,3,3,3,3,3,3,3,3,3,3,3,0,0]
            ]},
            6: { name: "Coffre ouvert", pattern: [
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,3,3,3,3,3,3,3,3,0,0,0,0],
                [0,0,0,3,2,2,2,2,2,2,2,2,3,0,0,0],
                [0,0,3,2,2,1,1,1,1,1,1,2,2,3,0,0],
                [0,3,2,2,1,1,1,1,1,1,1,1,2,2,3,0],
                [0,3,2,1,1,1,1,1,1,1,1,1,1,2,3,0],
                [3,2,2,3,3,3,3,3,3,3,3,3,3,2,2,3],
                [3,2,3,3,3,3,3,3,3,3,3,3,3,3,2,3],
                [3,2,3,2,2,2,2,2,2,2,2,2,2,3,2,3],
                [3,2,3,2,2,2,3,3,3,3,2,2,2,3,2,3],
                [3,2,3,2,2,2,3,2,2,3,2,2,2,3,2,3],
                [3,2,3,2,2,2,3,3,3,3,2,2,2,3,2,3],
                [3,2,3,2,2,2,2,2,2,2,2,2,2,3,2,3],
                [3,2,3,3,3,3,3,3,3,3,3,3,3,3,2,3],
                [0,3,2,2,2,2,2,2,2,2,2,2,2,2,3,0],
                [0,0,3,3,3,3,3,3,3,3,3,3,3,3,0,0]
            ]},
            7: { name: "Bloc", pattern: [
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0],
                [0,3,2,2,2,2,2,2,2,2,2,2,2,2,3,0],
                [0,3,2,3,3,3,3,3,3,3,3,3,3,2,3,0],
                [0,3,2,3,2,2,2,2,2,2,2,2,3,2,3,0],
                [0,3,2,3,2,1,1,1,1,1,1,2,3,2,3,0],
                [0,3,2,3,2,1,2,2,2,2,1,2,3,2,3,0],
                [0,3,2,3,2,1,2,3,3,2,1,2,3,2,3,0],
                [0,3,2,3,2,1,2,3,3,2,1,2,3,2,3,0],
                [0,3,2,3,2,1,2,2,2,2,1,2,3,2,3,0],
                [0,3,2,3,2,1,1,1,1,1,1,2,3,2,3,0],
                [0,3,2,3,2,2,2,2,2,2,2,2,3,2,3,0],
                [0,3,2,3,3,3,3,3,3,3,3,3,3,2,3,0],
                [0,3,2,2,2,2,2,2,2,2,2,2,2,2,3,0],
                [0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
            ]},
            8: { name: "Interrupteur OFF", pattern: [
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,0],
                [0,0,0,0,3,2,2,2,2,2,2,3,0,0,0,0],
                [0,0,0,0,3,2,3,3,3,3,2,3,0,0,0,0],
                [0,0,0,0,3,2,3,2,2,3,2,3,0,0,0,0],
                [0,0,0,0,3,2,3,2,2,3,2,3,0,0,0,0],
                [0,0,0,0,3,2,3,2,2,3,2,3,0,0,0,0],
                [0,0,0,0,3,2,3,3,3,3,2,3,0,0,0,0],
                [0,0,0,0,3,2,2,2,2,2,2,3,0,0,0,0],
                [0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
            ]},
            9: { name: "Interrupteur ON", pattern: [
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,0],
                [0,0,0,0,3,2,2,2,2,2,2,3,0,0,0,0],
                [0,0,0,0,3,2,1,1,1,1,2,3,0,0,0,0],
                [0,0,0,0,3,2,1,0,0,1,2,3,0,0,0,0],
                [0,0,0,0,3,2,1,0,0,1,2,3,0,0,0,0],
                [0,0,0,0,3,2,1,0,0,1,2,3,0,0,0,0],
                [0,0,0,0,3,2,1,1,1,1,2,3,0,0,0,0],
                [0,0,0,0,3,2,2,2,2,2,2,3,0,0,0,0],
                [0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
            ]},
            10: { name: "Plaque", pattern: [
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,3,3,3,3,3,3,3,3,3,3,0,0,0],
                [0,0,3,2,2,2,2,2,2,2,2,2,2,3,0,0],
                [0,0,3,2,2,2,2,2,2,2,2,2,2,3,0,0],
                [0,0,0,3,3,3,3,3,3,3,3,3,3,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
            ]}
        };
        